[ditaa,loadbalancer-ratelimit-architecture,png]
----
                               |                              |                       |
                               |                              |                       |
                               |                              |                       |
                               |1                    - - - - -|- - - - - - - - - - - -|
                               |                              |                       |
                               v                              |                       |
                   +-----------+-----------+                  |                       |
                   |+-------+     +-------+|  2   +-------+   |                       |
                   || Nginx |     | Nginx |+<---->| Redis |   | Load Balancer         |
                   |+-------+     +-------+|  3   +-------+   |                       |
                   +-----------+-----------+                  |                       |
                               |                              |                       |
                               |4                    - - - - -|- - - - - - - - - - - -|
                               |                              |                       |
         +---------------------+-----------------------+      |                       |
         |                     |                       |      |                       |
         |                     |                       |      |                       |
         |                     |                       |      |                       |
         v                     v                       v      |                       |
     +---+---+   +-------------+--------------+   +----+---+  |                       |
     |       |   |+------+  +------+  +------+|   |        |  |                       |
     |  Web  |   || REST |  | REST |  | REST ||   | Static |  | Service Layer         |
     |       |   |+------+  +------+  +------+|   |        |  |                       |
     +-------+   +---+---------+----------+---+   +--------+  |                       |
                     |         |          |                   |                       |
                     |         |          |                   |                       |
                     |         |          |          - - - - -|- - - - - - - - - - - -|
                     |         |          |                   |                       |
                     v         v          v                   |                       |
                  +--+--+   +--+--+    +--+--+                |                       |
                  |Queue|   |Cache|    | DB  |                | Data Layer            |
                  +--+--+   +-----+    +-----+                |                       |
                     |                                        |                       |
                     |                                        |                       |
                     |                               - - - - -|- - - - - - - - - - - -|
                     |                                        |                       |
       +---------+---+----+--------+                          |                       |
       |         |        |        |                          |                       |
       |         |        |        |                          | Deferrable Job &      |
       |         |        |        |                          | Offline Service       |
       v         v        v        v                          |                       |
   +---+---+  +--+--+  +--+--+  +--+--+                       |                       |
   |Message|  |Push |  |Storm|  |Spark|                       |                       |
   +-------+  +-----+  +-----+  +-----+                       |                       |
                                                              |                       |
                                                              |                       |
                                                              |                       |
----
