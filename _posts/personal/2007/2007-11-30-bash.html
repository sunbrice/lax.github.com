---
layout: post
name: bash
title: 通过bash脚本批量创建用户并设置密码
time: 2007-11-30 19:12:00.000000000 +08:00
---
Create Users And Change Passwords With A Bash Script<br>通过脚本批量创建用户并设置密码<p>First create a file which contains all the user name.<br>首先创建一个包还所有用户名的文件，格式如下：<br>------------------------<br>nurealam<br>nayeem<br>mrahman<br>farid<br>rubi<br>sankar<br>------------------------<br>Save the file as userlist.txt. Now create the following bash file:<br>把该文件保存为userlist.txt。现在创建如下的bash文件：<br>------------------------<br>#!/bin/sh<br>for i in `more userlist.txt `<br>do<br>echo $i<br>adduser $i<br>done<br>---------------------------<br>保存文件为useradd.sh。<br>运行该脚本文件：<br>--------------------<br>[lax@liulantao-com ~]# sh useradd.sh<br>---------------------<br>This will add all the users to the system. Now we have to change the<br>passwords. Let&#39;s say we want username123 as password. So for user<br>nayeem the password will be nayeem123, rubi123 for user rubi and so<br>on.----www.liulantao.com-----<br />结果是添加了所有用户名到系统中。现在必须修改密码了。假设我们用使用username123为密码。比如rubi的密码将是rubi123，依此类推。<br>Create another bash file as follows:<br>创建下面的脚本文件：<br>-------------------<br>#!/bin/sh<br>for i in `more userlist.txt `<br>do<br>echo $i<br>echo $i&quot;123&quot; | passwd –-stdin &quot;$i&quot;<br>echo; echo &quot;User $username&#39;s password changed!&quot;<br>done<br>--------------------<br>保存为userpasswd.sh。<br>-------------<br>[lax@liulantao-com ~]# sh userpasswd.sh<br>------------<br>Run the file. All the passwords are changed.<br>运行该文件。所有的密码被修改<p><br>-- <br>Liu Lantao<br>College of Information Science and Technology, Beijing Normal University<br>EMAIL: liulantao ( at ) gmail ( dot ) com ;<br>WEBSITE: <a href="http://www.liulantao.com/">http://www.liulantao.com/</a> .<br>------<br>转载本网站文章请保留这一行和以上所有文字，谢谢。<!------END------>
