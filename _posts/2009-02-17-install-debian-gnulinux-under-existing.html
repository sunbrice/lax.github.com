---
layout: post
name: install-debian-gnulinux-under-existing
title: Install Debian GNU/Linux under an existing Unix-like system VIA  chroot and
  debootstrap
time: 2009-02-17 15:47:00.000000000 +08:00
---
I should say the new debian GNU/Linux LENNY is an excellent platform to meet various users&#39; needs.<br><br>Before starting our installation, the new version of debootstrap and chroot should work on your machine.<br>Information about chroot can be found an &quot;<a href="http://en.wikipedia.org/wiki/Chroot">http://en.wikipedia.org/wiki/Chroot</a>&quot;.<br> These two software should have been contained in the repository of most of the popular distributions such as redhat/debian/suse, etc. &quot;yum install chroot debootstrap -y&quot; should work on RHEL/Centos/Fedora, and &quot;apt-get install chroot debootstrap -y&quot; should work on Debian/Ubuntu.<br> <br>The operations below need root priviledge. The following command line started with a &#39;#&#39; should be perform on you existing system, and the line start with two &#39;#&#39;s should be perform in the chrooted environment. Additional the line started with three &#39;#&#39;s should be perform after the new debian lenny was boot up.<br> <br>Let&#39;s GO!<br><br>1 - PREPARE DISK SPACE<br>&nbsp;1.1 - I just want to install my new Debian LENNY on /dev/sda3, you should replace this with own choice.<br># mke2fs -j /dev/sda3<br># mkswap /dev/sda8<br># sync; sync; sync<br> # swapon /dev/sda8<br>&nbsp;1.2 - mount the partition.<br>#mkdir /debian<br>#mount /dev/sda3 /debian<br><br>2 - INSTALL BASIC SYSTEM WITH DEBOOTSTRAP.<br># debootstrap --arch i386 lenny /debian/ URL<br>&nbsp;replace &quot;URL&quot; with the mirror you have chosen, eg:<br> # debootstrap --arch i386 lenny /debian/ <a href="ftp://ftp3.tsinghua.edu.cn/mirror/debian/debian">ftp://ftp3.tsinghua.edu.cn/mirror/debian/debian</a><br><br>3 - CHROOT TO THE NEW SYSTEM.<br><br>#LANG=C chroot /debian/ /bin/bash<br> <br>4 - NOW WE ARE IN THE CHROOTED SYSTEM, A BRAND NEW WORLD<br>mount the /proc filesystem<br>## mount -t proc proc /proc<br><br>perform some initial operation.<br>## MAKEDEV<br><br>5 - CONFIGURE LENNY.<br>configure the filesystem.<br> ## editor /etc/fstab<br>## mount -a<br><br>configure the network.<br>## editor /etc/network/interfaces<br>## echo HOSTNAME &gt;&gt; /etc/hostname<br>## editor /etc/hosts<br><br>6 - OTHER CONFIGURATION AND PACKAGES TO INSTALL.<br> configure sourcelist of you mirror.<br>## editor /etc/apt/source.list<br>## aptitude update<br><br>configure system locales.<br>## aptitude install locales<br>## dpkg-reconfigure locales<br><br>------------- optional : after reboot&nbsp; ---------------<br> ### aptitude install console-data<br>### dpkg-reconfigure console-data<br>------------------------------------------------<br><br>7 - KERNEL AND BOOTLOADER.<br>find some kernel files to boot your machine.<br>## apt-cache search linux-image<br> ## aptitude install linux-image-2.6.26-1.686<br>## editor /etc/kernel-img.conf<br><br>install the grub bootloader<br>## aptitude install grub<br>## grub-install /dev/sda3<br>## update-grub<br><br>8 - AUTOMATICALLY INSTALL SOME PACKAGE.<br> install basic system packages.<br>## tasksel install standard<br>## aptitude clean<br><br>install various packages for laptop and desktop application, OPTIONAL.<br>## tasksel install laptop<br>## tasksel install desktop<br> <br>8 - REBOOT TO LENNY.<br clear="all">&nbsp;iT works, HAVE FUN!<br>-- <br>Liu Lantao<br>College of Information Science and Technology, Beijing Normal University<br>EMAIL: liulantao ( at ) gmail ( dot ) com ; <br>WEBSITE: <a href="http://www.liulantao.com/">http://www.liulantao.com/</a> .<br> ------<br> <div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/4666702678549991852-962294714811095826?l=liulantao.blogspot.com' alt='' /></div>
