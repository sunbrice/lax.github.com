
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FreeBSD邮件服务Postfix问题：“fatal: open database /etc/aliases.db”</title>
    
    <meta name="author" content="Liu Lantao">
    <meta property="wb:webmaster" content="08beceac65f1ad4f" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
    <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Lax's Blog</a>
          <ul class="nav">
            
            
            


  
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  




          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>FreeBSD邮件服务Postfix问题：“fatal: open database /etc/aliases.db” <small></small></h1>
</div>

<div class="row">
  <div class="span8">
    FreeBSD邮件服务Postfix问题：&quot;fatal: open database /etc/aliases.db&quot;<br><a href="http://www.liulantao.com/blogs/liulantao/">http://www.liulantao.com/blogs/liulantao/</a>	[Mon Feb  4 18:43:54 CST 2008]<p>E: What does &quot;fatal: open database /etc/aliases.db&quot; mean?<br>C: &quot;fatal: open database /etc/aliases.db&quot; 意味着什么？<p>E: DB files are maintained by the Berkeley DB library. The above<br>message means one of the following things:<br>C: DB数据库文件由Berkeley DB链接库维护。以上的消息意味着以下的几种情况之一：<br>E:     * The existing file does not have the expected file format. The<br>cause is one of the following:<br>C: 	已存在的文件没有期望的文件格式。原因为以下情况之一：<br>E:           o The file was created by Berkeley DB version 1 and you<br>are using version 2 or 3 (or vice versa).<br>C: 		此文件由Berkeley DB版本1所创建，而你正在使用版本2或3（反之亦然）。<br>E:           o The file was written in &quot;btree&quot; format and Postfix<br>expects &quot;hash&quot; format (or vice versa).<br>C: 		文件以&quot;btree&quot;格式写就，而Postfix需要&quot;hash&quot;格式（反之亦然）。<br>E:       To fix the problem for Postfix execute the following command as root:<br>C: 	欲为Postfix修正此问题，以root用户运行以下命令：<br>              newaliases<br>E:       This creates the aliases.db in the format that Postfix expects.<br>C: 	这将以Postfix所期望的格式创建aliases.db。<p>E:     * Or the problem could be something completely different. If<br>the result of running newaliases is a zero-length aliases.db file,<br>then you probably suffer from the following problem.<br>C: 	或许问题恰好完全相反。如果运行newaliases的结果是一个空aliases.db文件，那么你可能遇到的是以下的问题。<br>E:           o Postfix was compiled with #include files for Berkeley<br>DB version X and was linked against object library files for Berkeley<br>DB version Y, where X and Y are different versions of the Berkeley DB<br>library.<br>C: 		Postfix编译时包含了Berkeley DB版本X的文件，而为Berkeley<br>DB版本Y链接为目标库文件，而X与Y为Berkeley DB的不同版本。<br>E:       The fix for this is to properly install the Berkeley DB<br>library. For example, RedHat version 7.0 uses the Berkeley DB version<br>3 object library by default, but no /usr/include/db.h file is<br>installed by default. In order to correctly build Postfix you must<br>install the db3-devel package.<br>C: 	解决此问题的方法是适当的安装Berkeley DB库。例如，Redhat版本7.0默认使用了Berkeley DB<br>版本3的目标库，却没有默认安装/usr/include/db.h文件。为了正确的建立Postfix，你必须安装db3-devel文件包。<br>E:       On a properly installed system, including the file &lt;db.h&gt; and<br>linking with -ldb should access files from the same Berkeley DB<br>library version.<br>C: 	在一个适当安装好的系统中，包含文件&lt;db.h&gt;并且链接以-ldb选项将会利用Berkeley DB相同版本的库文件。<p>参考位置：<a href="http://www.postfix.org/faq.html#noalias">http://www.postfix.org/faq.html#noalias</a><p>-- <br>刘兰涛 Liu Lantao<br>北京师范大学信息科学技术学院 College of Information Science and Technology, Beijing<br>Normal University<br>EMAIL: liulantao ( at ) gmail ( dot ) com ;<br>WEBSITE: <a href="http://www.liulantao.com/">http://www.liulantao.com/</a> .<br>------<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/6152326-6657143921781226091?l=lltaichi.blogspot.com' alt='' /></div>

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/2008/01/15/blog-post.html" title="”中毒了，重装也不行？“ -- 系统重装注意事项">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/2008/02/21/blog-post.html" title="上元夜">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <script type="text/javascript">
(function(){
var url = "http://widget.weibo.com/distribution/comments.php?width=0&url=auto&border=1&fontsize=12&skin=9&ralateuid=1772102214&appkey=446112883&iframskin=9&dpc=1";
url = url.replace("url=auto", "url=" + document.URL); 
document.write('<iframe id="WBCommentFrame" src="' + url + '" scrolling="no" frameborder="0" style="width:100%"></iframe>');
})();
</script>
<script src="http://tjs.sjs.sinajs.cn/open/widget/js/widget/comment.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
window.WBComment.init({
    "id": "WBCommentFrame"
});
</script>





  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>04 February 2008</span></div>

    
  </div>
</div>


      </div>

      <footer>
        <p>&copy; Liu Lantao 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1658815-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

